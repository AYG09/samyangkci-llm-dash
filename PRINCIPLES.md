# 삼양KCI LLM 연동 면접 분석 시스템 개발 7원칙

## 🚨 개발 시 반드시 준수해야 할 원칙들

### 1. 대형 모놀리식 .py 파일을 피한다

- **기준**: 모든 .py 파일 150줄 이하 (메인 파일뿐만 아니라 모든 파일)
- **체크 방법**: `check_principles.bat` 실행으로 자동 확인
- **조치**: 150줄 초과 시 즉시 분리하여 모듈화

### 2. 조기에 모듈화/리팩토링을 준비한다

- app/ 디렉토리 구조 활용
- 기능별 모듈 분리

### 3. 코드가 너무 커지면 새로운 .py를 생성하고 기존 것을 삭제한다

- 적절한 크기 유지
- 기능별 책임 분리

### 4. Windows에서는 모든 Python/pip install/run 명령에 py.exe를 사용한다 (로컬 개발 환경 한정)

- (로컬 개발 환경 한정) py -m pip install, py -m streamlit run, 배치 파일에서 py.exe 사용
- 운영/배포 환경에서는 해당 플랫폼에 맞는 실행법을 병기한다.

### 5. Windows PowerShell 기준 명령어를 사용한다 (로컬 개발 환경 한정)

- (로컬 개발 환경 한정) `&&` 대신 `;` 또는 개별 명령 사용
- `echo` 대신 `Write-Host` 또는 PowerShell 호환 명령
- 운영/배포 환경에서는 bash/sh 등도 병기한다.
- AI 에이전트는 PowerShell 문법으로 명령어 작성

### 6. 공통 UI/로직 단일화 원칙

- 공통 UI/로직은 반드시 단일 컴포넌트(모듈)로 분리·관리하고, 직접적인 코드 중복 구현을 금지한다.
- 변경 시 전체 시스템에 일관되게 반영되어야 한다.
- 버튼, 안내문, 카드, LLM 연동 등 공통 UI/로직은 반드시 하나의 파일/함수/클래스에서만 정의한다.
- 각 탭/화면에서는 해당 공통 컴포넌트만 import해서 사용한다.
- 직접 복사/붙여넣기 방식의 중복 구현은 금지하며, 변경이 필요할 때는 반드시 공통 컴포넌트만 수정한다.

### 7. dash 및 주요 라이브러리 버전 호환성/최신 문법 준수

- dash, dash_table 등 주요 라이브러리는 항상 최신 버전 호환성 및 문법을 준수한다.
- suppress_callback_exceptions, DataTable 등 dash 정책 변경 시 즉시 구조/코드 반영.
- 공식 문서/릴리즈노트 기반으로 코드/구조를 최신화한다.

### 8. ai agent가 자동완성한다

- 반복적·표준적 코드, 구조, 문서화, 리팩토링, 버전 호환 등은 ai agent(코파일럿 등)가 자동으로 제안·완성한다.
- 개발자는 핵심 로직·비즈니스·UX에 집중하고, 반복적·형식적 작업은 ai agent에 위임한다.
- ai agent의 제안은 반드시 검토·수정·승인 후 반영한다.
- ai agent는 반복적/표준적 문제는 자동으로 처리하며, 핵심 의사결정이 필요한 경우에만 사용자에게 질문한다.

#### 자동 적용 예시
- DataTable 등 반복적 UI/로직의 삭제, 정렬, 필터, 페이지 상태 동기화 문제는 ai agent가 자동으로 개선안을 제안·적용한다.
- 예: 삭제 후 DataTable의 필터/정렬/페이지 상태를 자동 초기화하여 남은 row가 항상 보이도록 처리.

### 9. 디자인 원칙을 실질적으로 적용한다

- 사람 중심, 신뢰, 단순함, 브랜드 일관성, 피드백, 접근성 등 디자인 원칙을 모든 UI/UX와 코드에 실질적으로 반영한다.
- 모든 화면/컴포넌트/로직은 사용성, 신뢰성, 일관성, 접근성, 피드백 제공을 최우선으로 설계·구현한다.
- 디자인 원칙은 코드 리뷰, UI/UX 개선, 신규 기능 개발 시 반드시 체크리스트로 활용한다.

#### 실사용자 경험 개선 예시
- 삭제, 비교, 다운로드 등 주요 액션 후에는 반드시 안내 메시지(예: "삭제된 항목을 제외한 나머지 데이터가 정상적으로 남아있습니다")를 제공하여 사용자 불안을 해소한다.
- id 혼란 방지를 위해 화면에 '순번' 컬럼을 추가하여 1번부터 연속된 번호로 보여준다.

### 10. dash 앱 특화 개발원칙

- 콜백 함수는 반드시 단일 책임 원칙(SRP)을 지킨다.
- 레이아웃, 컴포넌트, 콜백은 분리·재사용성을 극대화한다.
- dcc.Store 등 상태관리 컴포넌트와 Output/State 동기화를 명확히 한다.
- 모든 UI/UX에는 로딩, 에러, 안내 등 피드백을 제공한다.
- dash 공식 문서/릴리즈노트 기반 구조·문법을 항상 최신화한다.

#### dash 자동 적용 예시
- 삭제 후 DataTable의 page_current=0 등 상태를 리셋하여 남은 row가 항상 첫 페이지에 보이도록 한다.
- DataTable에 "순번" 컬럼을 추가하여 id와 별개로 연속 번호를 제공한다.
- 삭제 후 안내 메시지 강화: "1명 삭제 완료. 남은 데이터가 정상적으로 표시됩니다." 등 실시간 피드백 제공.

## 체크포인트

- [x] 모든 .py 파일 150줄 이하
- [x] app/ 모듈 활용
- [x] py.exe 명령 사용
- [x] 기능별 책임 분리
- [x] PowerShell 기준 명령어
- [x] 공통 UI/로직 단일화
- [x] dash 및 주요 라이브러리 버전 호환성/최신 문법
- [ ] dash 및 주요 라이브러리 버전 호환성/최신 문법 준수

## 자동화 도구

- `check_principles.bat` - 7원칙 준수 상태 자동 체크
- `run_app.bat` - py.exe 사용하여 앱 실행

**마지막 체크**: `check_principles.bat` 실행으로 자동 확인 ⚡
