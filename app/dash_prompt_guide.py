from dash import html, dcc
import dash_bootstrap_components as dbc


def render_guide_tab():
    """가이드 탭의 내용을 렌더링합니다."""
    
    # 섹션별 컨텐츠 정의
    section_purpose = dcc.Markdown("""
        #### 🎯 개발 목적
        이 시스템은 채용 과정에서 발생하는 다양한 비정형 데이터(이력서, 면접 평가, 평판 보고서 등)를
        **LLM(거대 언어 모델)**을 활용하여 정량적이고 체계적인 데이터로 변환하기 위해 개발되었습니다.
        
        - **객관성 확보**: 평가자의 주관적 판단을 최소화하고, 데이터 기반의 객관적인 평가 지표를 제공합니다.
        - **효율성 증대**: 여러 자료를 수동으로 검토하는 시간을 단축하고, 핵심 정보를 빠르게 파악할 수 있도록 돕습니다.
        - **심층 분석 지원**: 통합 인재 평가 모델에 기반한 다차원 분석을 통해 후보자의 역량을 
          종합적이고 깊이 있게 이해할 수 있도록 지원합니다.
    """)
    
    section_usage = dcc.Markdown("""
        #### 🛠️ 핵심 사용법
        **1. 프롬프트 생성 (📋 프롬프트 생성 탭)**
        - 후보자의 기본 정보(이름, 지원 직무 등)를 입력하고, 분석에 사용할 자료 목록을 선택합니다.
        - '프롬프트 생성' 버튼을 누르면, LLM에 바로 입력할 수 있는 맞춤형 프롬프트가 생성됩니다.
        
        **2. LLM 분석 및 결과 저장 (📝 LLM 분석 결과 입력 탭)**
        - 생성된 프롬프트를 복사하여 선호하는 LLM(ChatGPT, Gemini 등)에 입력하고, 그 결과를 얻습니다.
        - LLM이 생성한 결과 전체를 복사하여 'LLM 분석 결과 원문'에 붙여넣고 '분석 시작' 버튼을 누릅니다.
        - 시스템이 자동으로 결과를 파싱하여 보여주면, 내용을 확인하고 '최종 저장'을 눌러 후보자 데이터를 저장합니다.
        
        **3. 보고서 확인 및 활용 (📊 면접자 조회 탭)**
        - 저장된 후보자 목록에서 분석 결과를 확인하고 싶은 후보자를 선택합니다.
        - '종합 리포트', '임원용 리포트', 'HR 리포트' 등 다양한 형태의 시각화된 보고서를 확인할 수 있습니다.
        - 'PDF/PPT 출력' 버튼을 통해 보고서를 인쇄용 버전으로 확인할 수 있습니다.
    """)

    section_interpretation = dcc.Markdown("""
        #### 📈 보고서 해석 가이드
        **1. 5대 핵심 차원**
        - **CAPABILITY (역량)**: 후보자가 보유한 지식, 기술, 능력 등 '할 수 있는 것'을 의미합니다.
        - **PERFORMANCE (성과)**: 과거에 실제로 보여준 성과와 결과물, '해온 것'을 의미합니다.
        - **POTENTIAL (잠재력)**: 미래에 성장하고 발전할 수 있는 가능성, '할 수 있을 것'을 의미합니다.
        - **PERSONALITY (개인 특성)**: 후보자의 성격, 가치관, 행동 스타일 등 '어떤 사람인가'를 의미합니다.
        - **FIT (적합성)**: 우리 조직의 문화, 가치, 직무와 '얼마나 잘 맞는가'를 의미합니다.
        
        **2. 종합 점수 및 추천 등급**
        - **종합 점수**: 5대 차원의 점수를 가중 평균하여 산출된 점수입니다. 
          (가중치: 역량 25%, 성과 25%, 잠재력 20%, 개인특성 15%, 적합성 15%)
        - **추천 등급**: 종합 점수 및 핵심 분석 결과를 바탕으로 '강력 추천'부터 '비추천'까지 5단계로 제시됩니다.
        
        **3. 레이더 차트**
        - 5대 차원의 균형을 한눈에 파악할 수 있는 차트입니다.
        - 차트의 모양이 특정 방향으로 치우쳐져 있는지, 전반적으로 균형 잡혀 있는지를 통해 
          후보자의 강점과 약점을 직관적으로 파악할 수 있습니다.
    """)

    return html.Div([
        html.H3("📘 LLM 면접 분석 시스템 가이드", className="mb-4"),
        
        dbc.Accordion(
            [
                dbc.AccordionItem(
                    section_purpose, title="1. 이 프로그램은 왜 만들어졌나요? (개발 목적)"
                ),
                dbc.AccordionItem(
                    section_usage, title="2. 어떻게 사용하나요? (핵심 사용법)"
                ),
                dbc.AccordionItem(
                    section_interpretation, title="3. 보고서는 어떻게 해석해야 하나요? (해석 가이드)"
                ),
            ],
            start_collapsed=True,
            always_open=True,
            flush=True,
        )
    ], className="page-container")
