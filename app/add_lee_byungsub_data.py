import json
import sqlite3
from datetime import datetime

# 이병섭 후보자 상세 데이터 (제미니 제공)
LEE_BYUNGSUB_DATA = {
    "면접자정보": { 
        "이름": "이병섭", 
        "지원조직": "Solution팀(RA)", 
        "경력": "7년 5개월" 
    },
    "분석항목": [
        {"index": 1, "title": "지식(Knowledge)", "score": 4.5, "analysis": "지원자는 RA(Regulatory Affairs) 직무에 대한 선언적 지식(Declarative Knowledge)과 절차적 지식(Procedural Knowledge)을 매우 높은 수준으로 보유하고 있습니다. 국내 화평법(K-REACH), 살생물제법(K-BPR) 뿐만 아니라 EU-REACH, 중국/대만 규제 등 주요 글로벌 화학물질 규제에 대한 깊이 있는 이론적 지식을 갖추고 있습니다. 또한, 화학물질의 대표자 등록, 협의체 운영, CSR 작성, GPC 데이터 분석 등 실제 규제 이행 절차에 대한 지식도 풍부하여, 약 100건 이상의 신고/등록 실적을 달성했습니다. 다만, 1차 면접에서 지적되었듯 '인증'(할랄, 비건 등) 분야에 대한 지식은 상대적으로 부족하나, 2차 면접에서 이를 인지하고 자발적으로 학습하고 있음을 밝혀 지식 확장에 대한 적극적인 태도를 보여주었습니다.", "evidence": "이력서, 실무면접관 면접 평가표, 면접 녹취록"},
        {"index": 2, "title": "기술(Skills)", "score": 4.4, "analysis": "지원자는 RA 직무 수행에 필요한 핵심 기술들을 효과적으로 발휘합니다. 첫째, '분석 및 문제해결 기술'이 뛰어납니다. 복잡한 규제 조항을 해석하고, 고객사의 상황에 맞는 최적의 솔루션을 제공하는 컨설팅 경험이 풍부합니다. 둘째, '대인관계 및 커뮤니케이션 기술'이 우수합니다. 평판보고서에서 다수의 동료가 그의 소통 능력과 팀워크를 칭찬했으며, 고객사 대상 세미나 발표 및 부스 영업 경험은 그의 설득 및 프레젠테이션 기술을 입증합니다. 셋째, '기획 및 관리 기술'을 보유하고 있습니다. 2차 면접에서 언급한 자신만의 업무 원칙과 체크리스트 활용법은 복잡한 프로젝트를 체계적으로 관리하는 그의 기술을 보여주는 좋은 사례입니다.", "evidence": "평판보고서, 면접 녹취록, 이력서, 실무면접관 면접 평가표"},
        {"index": 3, "title": "능력(Abilities)", "score": 4.6, "analysis": "지원자는 직무 수행에 필요한 인지적, 심리적 능력을 고루 갖추고 있습니다. 특히 '논리적 추론 능력'이 뛰어납니다. 1차 면접관들은 공통적으로 그의 답변이 논리적이고 합리적이라고 평가했습니다. Big5 성격검사에서 '규범지향성'과 '유능감' 점수가 매우 높은 것은, 복잡한 정보를 체계적으로 처리하고 문제 해결에 대한 자신감을 갖는 그의 능력을 뒷받침합니다. 또한, '스트레스 관리 능력'이 탁월합니다. Big5 검사에서 '심리적 민감성'이 매우 낮게 나타나, 압박이 심한 상황에서도 정서적 안정을 유지하고 합리적인 판단을 내릴 수 있는 능력이 있음을 시사합니다. 이는 데드라인 준수와 위기 대응이 중요한 RA 직무에 큰 강점입니다.", "evidence": "실무면접관 면접 평가표, Big5 성격검사, ACG 인성검사, 면접 녹취록"},
        {"index": 4, "title": "기타 특성(적응성, 직업윤리 등)", "score": 4.8, "analysis": "지원자는 직업인으로서 매우 긍정적인 기타 특성들을 보유하고 있습니다. 첫째, '직업윤리 및 책임감'은 모든 자료에서 일관되게 확인되는 최고의 강점입니다. 평판보고서에서 윤리적 이슈가 전무했으며, ACG 인성검사에서 '책임의식' 점수는 85점으로 최상위권입니다. 둘째, '적응성'이 뛰어납니다. 2차 면접에서 언급했듯, 수직적이고 엄격한 제조업 문화에서 자율적이고 유연한 컨설팅펌 문화로 성공적으로 전환하며 자신만의 자기관리 시스템을 구축한 경험은 그의 높은 환경 적응력을 증명합니다. 셋째, '성실성'과 '끈기'가 돋보입니다. ACG 인성검사의 '#끈기가 있는' 키워드와 평판보고서의 '군말없이 야근으로 해결해 나가는 모습'은 그의 성실한 업무 태도를 보여줍니다.", "evidence": "평판보고서, ACG 인성검사, Big5 성격검사, 면접 녹취록"},
        {"index": 5, "title": "핵심 역량(Core Competencies)", "score": 4.7, "analysis": "지원자는 삼양KCI의 핵심가치와 강하게 부합하는 핵심 역량을 보유하고 있습니다. '끝까지 완수하는 책임의식'과 '윤리와 원칙을 바탕으로 한 신뢰'는 그의 가장 두드러진 역량입니다. '객관성과 전문성을 바탕으로 한 판단력'은 법규라는 명확한 '근거 찾기'를 업무 원칙으로 삼는 그의 태도에서 확인할 수 있습니다. '공동의 Purpose를 향한 소통과 협력' 역량 역시 평판보고서의 우수한 팀워크 평가와 Big5 검사의 높은 외향성/수용성 점수를 통해 증명됩니다. 다만, '관행을 당연시하지 않는 새로운 시각'이나 '실패를 두려워하지 않는 도전정신'은 평판보고서에서 '비효율적 매뉴얼도 따르는 경향'이 지적된 점을 볼 때, 상대적으로 개발이 필요한 영역으로 보입니다.", "evidence": "ACG 인성검사, 면접 녹취록, 평판보고서, Big5 성격검사"},
        {"index": 6, "title": "기능 역량(Functional Competencies)", "score": 4.8, "analysis": "RA 직무에 요구되는 기능 역량(Functional Competencies)이 매우 뛰어납니다. 첫째, '규제 분석 및 적용 역량'이 탁월합니다. 이력서에 명시된 다수의 국내외 규제 대응 경험과 100건 이상의 등록/신고 실적은 이 역량의 깊이를 증명합니다. 둘째, '프로젝트 관리 역량'을 보유하고 있습니다. 여러 고객사의 다양한 규제 프로젝트를 동시에 관리하고, 협의체 운영 및 후발등록 전 과정을 총괄한 경험은 복잡한 과업을 성공적으로 이끄는 능력을 보여줍니다. 셋째, '고객 컨설팅 및 교육 역량'을 갖추고 있습니다. 고객사 대상 규제 컨설팅, 세미나 발표, 인턴 교육 등의 경험은 전문 지식을 타인이 이해하기 쉽게 전달하는 능력이 있음을 나타냅니다.", "evidence": "이력서, 실무면접관 면접 평가표, 면접 녹취록"},
        {"index": 7, "title": "직무 샘플/테스트 결과(Job Sample/Simulation)", "score": 4.9, "analysis": "별도의 직무 샘플 테스트나 시뮬레이션은 진행되지 않았습니다. 하지만 지원자가 지난 2년간 삼양KCI의 규제 컨설팅 업무를 직접 수행한 경험은 사실상 장기적이고 실제적인 '직무 샘플' 역할을 합니다. 면접 녹취록에 따르면, 그는 KCI의 주요 수출 국가 규제(EU-REACH, 터키 TDK 등)에 대해 A부터 Z까지 컨설팅을 제공했고, 현재도 EU-REACH 등록 업무를 대행하고 있습니다. 이는 지원자가 이미 KCI의 제품, 프로세스, 니즈를 완벽하게 이해하고 있으며, 별도의 검증 없이도 해당 직무를 최고 수준으로 수행할 수 있음을 입증하는 가장 강력한 증거입니다.", "evidence": "면접 녹취록"},
        {"index": 8, "title": "객관적 평가(인지능력, 기술테스트 등)", "score": 4.7, "analysis": "지원자에 대한 객관적 평가는 3가지 소스를 통해 이루어졌습니다. 첫째, ACG 인성검사에서 삼양 인재상 부합도 'A' 등급(78점)이라는 정량적 결과를 통해 조직 적합성이 객관적으로 높게 평가되었습니다. 둘째, Big5 성격검사는 규범지향성(C)이 67점, 심리적 민감성(N)이 39점으로 나타나, 객관적으로 성실하고 스트레스 저항력이 높은 성격임이 확인되었습니다. 셋째, 1차 실무면접 평가표에서 2명의 전문 면접관으로부터 75점의 동일한 점수와 '채용하고 싶다'는 일치된 의견을 받아, 직무 역량에 대한 전문가의 객관적 검증을 통과했습니다. 이처럼 다양한 객관적 평가 데이터가 지원자의 강점을 일관되게 지지하고 있습니다.", "evidence": "ACG 인성검사, Big5 성격검사, 실무면접관 면접 평가표"},
        {"index": 9, "title": "동기 요인(자기결정성, 허즈버그 등)", "score": 4.6, "analysis": "지원자의 동기 요인은 매우 건강하고 지속가능한 형태로 보입니다. 자기결정성 이론 관점에서, 그는 '유능성', '자율성', '관계성'이라는 세 가지 내재적 욕구가 강하게 작용하고 있습니다. 허즈버그의 2요인 이론으로 볼 때, 그는 '성취', '인정', '책임감', '성장'과 같은 동기 요인(Motivators)에 의해 크게 움직입니다. 평판보고서에서 언급된 '인정 욕구'는 성과 창출을 위한 긍정적인 동력으로 작용할 가능성이 높습니다. 이러한 강력한 내재적 동기와 동기 요인은 외부 보상과 무관하게 높은 수준의 업무 몰입과 성과를 장기적으로 유지하게 할 것입니다.", "evidence": "면접 녹취록, 평판보고서, Big5 성격검사, ACG 인성검사"},
        {"index": 10, "title": "성격 및 행동 특성(Big5, SJT 등)", "score": 4.7, "analysis": "Big5와 ACG 성격검사 결과를 종합하면, 지원자는 '정서적으로 안정되고, 성실하며, 협조적인 전문가'의 프로필을 보입니다. Big5의 낮은 심리적 민감성(N=39)과 높은 규범지향성(C=67)은 스트레스 상황에서도 흔들리지 않고 맡은 바를 끝까지 완수하는 행동 특성을 예측하게 합니다. 높은 외향성(E=61)과 수용성(A=62)은 사교적이고 원만한 대인관계를 형성하며, 팀 내에서 협력적인 역할을 수행할 것임을 시사합니다. ACG 검사에서 '꼼꼼한 관리자' 유형으로 나타난 것은, 규칙과 절차를 중시하고 체계적으로 업무를 처리하는 그의 행동 특성을 명확히 보여줍니다. 이러한 성격과 행동 특성은 리스크 관리가 핵심인 RA 직무에 매우 이상적입니다.", "evidence": "Big5 성격검사, ACG 인성검사, 평판보고서"},
        {"index": 11, "title": "성장 마인드셋/학습 민첩성(Growth Mindset, Learning Agility)", "score": 4.8, "analysis": "지원자는 뛰어난 성장 마인드셋(Growth Mindset)과 학습 민첩성(Learning Agility)을 보여줍니다. 자신의 단점을 고정된 특성으로 보지 않고, 후천적인 노력과 시스템 구축을 통해 극복할 수 있다고 믿고 실제로 행동으로 옮긴 것이 성장 마인드셋의 명확한 증거입니다. 또한, 1차 면접에서 자신의 지식 격차('인증' 분야)를 지적받자, 즉시 관련 자료를 찾아 학습을 시작했다고 2차 면접에서 밝힌 점은 매우 높은 학습 민첩성을 보여주는 사례입니다. 그는 피드백을 성장의 기회로 삼고, 새로운 지식을 빠르게 습득하여 적용하려는 의지가 매우 강하며, 이는 급변하는 규제 환경에 적응하는 데 필수적인 자질입니다.", "evidence": "면접 녹취록, 이력서 자기소개서"},
        {"index": 12, "title": "행동사례(Behavioral Event, STAR/BEI 기반)", "score": 4.7, "analysis": "지원자는 면접과 서류 전반에서 자신의 역량을 증명하는 구체적인 행동사례를 일관되게 제시하고 있습니다. 대표적인 사례는 '업무 시스템 구축을 통한 단점 극복'입니다. (Situation) 과거 덜렁대는 성격으로 실수가 있었고, RA 직무는 높은 수준의 꼼꼼함을 요구하는 상황이었습니다. (Task) 실수를 방지하고 업무 정확도를 높여야 하는 과제가 있었습니다. (Action) 그는 '근거 찾기, 회의록 작성, 더블 체크, 상급자 보고'라는 4가지 구체적인 행동 원칙을 포스트잇에 적어 모니터에 붙여두고, 모든 업무를 이 절차에 따라 수행하는 루틴을 스스로 만들고 강제했습니다. (Result) 이러한 체계적인 행동을 통해 그는 꼼꼼하고 신뢰도 높은 전문가로 성장할 수 있었으며, 이는 그의 문제 해결 능력과 높은 성장 의지를 보여주는 강력한 증거입니다.", "evidence": "면접 녹취록, 이력서 자기소개서"},
        {"index": 13, "title": "자기소개서/포트폴리오 분석(동기, 논리, 증거, 회고 등)", "score": 4.5, "analysis": "이력서 및 자기소개서는 지원자의 특성을 잘 보여주는 논리적이고 일관된 문서입니다. 지원동기에서 'RA 전문가로의 성장'이라는 명확한 목표를 제시하고, 이를 위해 R&D 경험(KNK코팅스)에서 규제 컨설팅(리이치24시)으로 이어진 경력 경로를 논리적으로 설명하고 있습니다. 또한 '멜라민 대표자 등록', '100건 이상 신고' 등 자신의 주장을 구체적인 수치와 성과로 증명하여 신뢰도를 높입니다. 특히 '덜렁대는 성격을 극복하기 위한 노력'을 솔직하게 기술한 부분은 자기 성찰 능력과 진정성을 보여주는 긍정적인 요소입니다. 전반적으로 그의 서류는 주장-근거-결론의 구조가 명확하며, 이는 그의 체계적인 사고방식을 반영합니다.", "evidence": "이력서(자기소개서 포함)"},
        {"index": 14, "title": "개인-조직 적합성(P-O Fit, 가치관, 문화 Alignment)", "score": 4.8, "analysis": "개인-조직 적합성(Person-Organization Fit), 특히 가치 부합도가 매우 높습니다. ACG 인성검사 결과 삼양 인재상 부합도 'A' 등급을 받았으며, 지원자의 핵심 가치인 '책임감', '성실함', '원칙준수'는 KCI의 '책임의식' 및 '신뢰' 가치와 완벽하게 일치합니다.", "evidence": "ACG 인성검사, 면접 녹취록, 평판보고서, Big5 성격검사"},
        {"index": 15, "title": "컬처 기여/문화적 기여(Culture Add)", "score": 4.5, "analysis": "기존의 '신뢰' 문화를 강화하는 동시에, 컨설팅 경험을 바탕으로 '전략적 RA' 관점을 더하여 조직에 새로운 기여가 가능합니다. 이는 KCI의 '개척자 정신'과 '혁신' 가치에 부합하는 긍정적인 'Culture Add' 요소입니다.", "evidence": "면접 녹취록, 이력서, 평판보고서, ACG 인성검사"},
        {"index": 16, "title": "평판조회(Reference Check) 결과", "score": 4.6, "analysis": "4명의 동료로부터 얻은 평판은 매우 긍정적이며, 타 자료와 일관성이 높습니다. '책임감, 전문성, 팀워크'를 공통 강점으로, '유연성 부족, 소극적 의견 개진' 등을 공통 약점으로 지적했습니다. 강점이 약점을 압도한다는 결론입니다.", "evidence": "평판보고서"},
        {"index": 17, "title": "종합 평가 및 추천(강점/약점/리스크/성장잠재력 포함)", "score": 4.8, "analysis": "압도적인 책임감, 검증된 전문성, 높은 문화 적합도, 뛰어난 성장 잠재력을 모두 갖춘 최적의 인재입니다. 즉각적인 성과 창출과 장기적인 전략적 기여가 모두 기대됩니다. 약점은 충분히 관리 및 개발 가능하므로 채용을 강력히 추천합니다.", "evidence": "모든 제공 자료의 종합적 분석 결과"}
    ],
    "임원용_INSIGHT": [
        {"title": "조직/사업 전략과의 시너지 가능성", "analysis": "R&D와 규제 양측의 경험을 바탕으로, 신제품 개발 초기부터 규제 리스크를 통합 관리하여 'Time-to-Market' 단축 및 연구개발 투자 효율성 증대에 직접적으로 기여할 수 있습니다. 이는 회사의 '스페셜티 솔루션' 비전 달성을 위한 핵심 동력입니다."},
        {"title": "핵심 역량 및 차별화 포인트", "analysis": "지원자의 가장 강력한 자산은 '책임감'입니다. 이는 단순 성실함을 넘어, '문제가 해결될 때까지 포기하지 않는 집요함'으로 나타납니다. 특히 2년간의 KCI 업무 경험은 그가 단순한 실무자가 아니라, 회사의 니즈를 이해하고 '신뢰' 그 자체를 제공할 수 있는 준비된 파트너임을 의미합니다."},
        {"title": "리더십/주도성/의사결정 스타일", "analysis": "의사결정 시에는 감이나 직관이 아닌, 법규와 데이터라는 명확한 '근거'에 기반하여 매우 신중하고 합리적인 판단을 내립니다."},
        {"title": "위험요인 및 경영적 리스크", "analysis": "과도한 신중함과 원칙주의가 빠른 변화 대응 및 혁신에 저항으로 작용할 수 있습니다.", "evidence": "'실패를 두려워하지 않는 도전'을 장려하는 명확한 목표 설정과 리더십을 통해, 그의 안정성을 혁신을 위한 단단한 기반으로 활용할 수 있습니다. 잠재적 리스크는 낮고 통제 가능한 수준입니다."}
    ],
    "HR담당자_포인트": [
        {"title": "입사 후 온보딩/적응 예상 이슈", "analysis": "온보딩은 매우 순조로울 것입니다. 이미 2년간 KCI 업무를 수행해왔기 때문입니다. 다만, '초기 업무 속도'에 대한 우려가 있으므로, 입사 초반에는 과업의 양보다는 퀄리티와 프로세스 적응에 집중할 수 있도록 지원하고 명확한 우선순위를 설정해주는 것이 좋습니다. 본인의 업무 시스템을 존중해주되, KCI의 방식과 효율적으로 통합할 수 있도록 가이드가 필요합니다."},
        {"title": "보상/동기부여 설계 포인트", "analysis": "금전적 보상 외에 '전문가로서의 인정과 성장 기회' 제공이 핵심적인 동기부여 요인이 될 것입니다. 1) 명확한 커리어 경로(RA Specialist Track) 제시, 2) '인증' 등 부족 역량에 대한 교육 지원, 3) 성공적인 과제 수행에 대한 공개적인 인정과 피드백이 효과적일 것입니다. 평판보고서에 언급된 '인정 욕구'를 긍정적으로 활용하는 것이 중요합니다."},
        {"title": "조직 내 배치/활용 추천", "analysis": "Solution팀(RA) 배치가 최적입니다. 입사 후, 단순히 주어진 규제 대응 업무를 넘어 연구개발 부문과의 정기적인 협의체를 구성하여 'Proactive RA' 역할을 수행하도록 하는 것이 그의 잠재력(개발 초기 단계 개입 포부)을 극대화하는 방안입니다. 향후 신규 입사자의 멘토로서, 그가 스스로 정립한 체계적인 업무 방식을 전수하는 역할을 부여하는 것도 좋은 활용법입니다."},
        {"title": "법적/윤리적/평판 리스크", "analysis": "해당 영역에서의 리스크는 극히 낮습니다. 평판보고서의 모든 평가자가 윤리의식에 대해 긍정적으로 평가했으며, 부정적인 코멘트가 전무합니다. 그의 성실하고 원칙을 준수하는 성향은 오히려 조직의 규범 준수 수준을 높이는 데 긍정적인 영향을 미칠 것입니다."},
        {"title": "개인별 성장/경력개발 지원 포인트", "analysis": "두 가지 방향의 지원이 필요합니다. 첫째, '지식 확장'입니다. 부족한 '인증' 분야나 새로운 'ESG' 규제에 대한 전문 교육 및 프로젝트 참여 기회를 제공해야 합니다. 둘째, '리더십 역량 개발'입니다. 향후 관리자 역할을 대비하여, 자신의 의견을 논리적이고 설득력있게 개진하는 훈련(Assertiveness)과 효과적인 위임(Delegation)에 대한 코칭을 제공하는 것이 장기적인 성장에 필수적입니다."}
    ]
}

def save_candidate_to_db():
    """이병섭 후보자 데이터를 DB에 저장"""
    try:
        # DB 연결
        conn = sqlite3.connect('candidates.db')
        cursor = conn.cursor()
        
        # 테이블 생성 (존재하지 않는 경우)
        cursor.execute('''
            CREATE TABLE IF NOT EXISTS candidate_analysis (
                id TEXT PRIMARY KEY,
                name TEXT,
                json_data TEXT,
                created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
            )
        ''')
        
        # 이병섭 데이터 저장
        candidate_id = "17"
        name = "이병섭"
        json_data = json.dumps(LEE_BYUNGSUB_DATA, ensure_ascii=False, indent=2)
        
        cursor.execute('''
            INSERT OR REPLACE INTO candidate_analysis (id, name, json_data)
            VALUES (?, ?, ?)
        ''', (candidate_id, name, json_data))
        
        conn.commit()
        conn.close()
        
        print(f"✅ 이병섭 후보자 데이터가 성공적으로 저장되었습니다. (ID: {candidate_id})")
        
    except Exception as e:
        print(f"❌ 데이터 저장 중 오류 발생: {e}")

if __name__ == "__main__":
    save_candidate_to_db() 